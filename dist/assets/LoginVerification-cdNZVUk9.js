import{g as Ce,r as _,j as l,a as De,u as je}from"./index-DdxZgo0v.js";import{e as Pe}from"./ResponseModal-Z_xc7FKT.js";import{a as we,V as _e}from"./LoaderStyle-_f7XKeVM.js";var ie={};(function(O){Object.defineProperty(O,"__esModule",{value:!0}),O.default=void 0;var u=N(_),F=["placeholder","separator","isLastChild","ariaLabelOverride","shouldRender","inputStyle","focus","isDisabled","hasErrored","errorStyle","isSuccessed","successStyle","focusStyle","disabledStyle","shouldAutoFocus","isInputNum","index","value","className","isInputSecure","onSubmit"];function f(t){if(typeof WeakMap!="function")return null;var a=new WeakMap,o=new WeakMap;return(f=function(r){return r?o:a})(t)}function N(t,a){if(!a&&t&&t.__esModule)return t;if(t===null||T(t)!=="object"&&typeof t!="function")return{default:t};var o=f(a);if(o&&o.has(t))return o.get(t);var e={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var c=r?Object.getOwnPropertyDescriptor(t,s):null;c&&(c.get||c.set)?Object.defineProperty(e,s,c):e[s]=t[s]}return e.default=t,o&&o.set(t,e),e}function v(){return v=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var o=arguments[a];for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])}return t},v.apply(this,arguments)}function E(t,a){if(t==null)return{};var o=A(t,a),e,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)e=s[r],!(a.indexOf(e)>=0)&&Object.prototype.propertyIsEnumerable.call(t,e)&&(o[e]=t[e])}return o}function A(t,a){if(t==null)return{};var o={},e=Object.keys(t),r,s;for(s=0;s<e.length;s++)r=e[s],!(a.indexOf(r)>=0)&&(o[r]=t[r]);return o}function V(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function B(t,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function M(t,a,o){return a&&B(t.prototype,a),o&&B(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function k(t,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),a&&y(t,a)}function y(t,a){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},y(t,a)}function R(t){var a=se();return function(){var e=W(t),r;if(a){var s=W(this).constructor;r=Reflect.construct(e,arguments,s)}else r=e.apply(this,arguments);return oe(this,r)}}function oe(t,a){if(a&&(T(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(t)}function d(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function se(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function W(t){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},W(t)}function h(t,a,o){return a in t?Object.defineProperty(t,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[a]=o,t}function T(t){"@babel/helpers - typeof";return T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},T(t)}var ue=8,le=37,ce=39,pe=46,fe=32,de=13,j=function(a){return T(a)==="object"},he=function(t){k(o,t);var a=R(o);function o(e){var r;return V(this,o),r=a.call(this,e),h(d(r),"getClasses",function(){for(var s=arguments.length,c=new Array(s),n=0;n<s;n++)c[n]=arguments[n];return c.filter(function(i){return!j(i)&&i!==!1}).join(" ")}),h(d(r),"getType",function(){var s=r.props,c=s.isInputSecure,n=s.isInputNum;return c?"password":n?"tel":"text"}),h(d(r),"getAriaLabel",function(s,c){var n=r.props.ariaLabelOverride;return n||"".concat(s===0?"Please enter verification code. ":"").concat(c?"Digit":"Character"," ").concat(s+1)}),r.input=u.default.createRef(),r}return M(o,[{key:"componentDidMount",value:function(){var r=this.props,s=r.focus,c=r.shouldAutoFocus,n=this.input.current;n&&s&&c&&n.focus()}},{key:"componentDidUpdate",value:function(r){var s=this.props.focus,c=this.input.current;r.focus!==s&&c&&s&&(c.focus(),c.select())}},{key:"render",value:function(){var r=this.props,s=r.placeholder,c=r.separator,n=r.isLastChild;r.ariaLabelOverride;var i=r.shouldRender,p=r.inputStyle,x=r.focus,I=r.isDisabled,b=r.hasErrored,g=r.errorStyle,S=r.isSuccessed,D=r.successStyle,P=r.focusStyle,C=r.disabledStyle;r.shouldAutoFocus;var z=r.isInputNum,U=r.index,$=r.value,q=r.className;r.isInputSecure,r.onSubmit;var G=E(r,F);return u.default.createElement("div",{className:q,style:{display:"flex",alignItems:"center"}},u.default.createElement("input",v({"aria-label":this.getAriaLabel(U,z),style:Object.assign({width:"1em",textAlign:"center",padding:0},j(p)&&p,x&&j(P)&&P,I&&j(C)&&C,b&&!S&&j(g)&&g,S&&!b&&j(D)&&D),placeholder:s,className:this.getClasses(p,x&&P,I&&C,b&&!S&&g,S&&!b&&D),type:this.getType(),ref:this.input,disabled:I,value:$||""},G)),!n&&i&&c)}}]),o}(u.PureComponent),Q=function(t){k(o,t);var a=R(o);function o(){var e;V(this,o);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return e=a.call.apply(a,[this].concat(s)),h(d(e),"state",{activeInput:0}),h(d(e),"getOtpValue",function(){return e.props.value?e.props.value.toString().split(""):[]}),h(d(e),"getPlaceholderValue",function(){var n=e.props,i=n.placeholder,p=n.numInputs;if(typeof i=="string"){if(i.length===p)return i;i.length>0&&console.error("Length of the placeholder should be equal to the number of inputs.")}}),h(d(e),"handleOtpChange",function(n){var i=e.props.onChange,p=n.join("");i(p)}),h(d(e),"isInputValueValid",function(n){var i=e.props.isInputNum?!isNaN(parseInt(n,10)):typeof n=="string";return i&&n.trim().length===1}),h(d(e),"focusInput",function(n){var i=e.props.numInputs,p=Math.max(Math.min(i-1,n),0);e.setState({activeInput:p})}),h(d(e),"focusNextInput",function(){var n=e.state.activeInput;e.focusInput(n+1)}),h(d(e),"focusPrevInput",function(){var n=e.state.activeInput;e.focusInput(n-1)}),h(d(e),"changeCodeAtFocus",function(n){var i=e.state.activeInput,p=e.getOtpValue();p[i]=n[0],e.handleOtpChange(p)}),h(d(e),"handleOnPaste",function(n){n.preventDefault();var i=e.state.activeInput,p=e.props,x=p.numInputs,I=p.isDisabled;if(!I){for(var b=e.getOtpValue(),g=i,S=n.clipboardData.getData("text/plain"),D=e.props.isInputNum?S.replace(/\D/g,""):S,P=D.slice(0,x-i).split(""),C=0;C<x;++C)C>=i&&P.length>0&&(b[C]=P.shift(),g++);e.setState({activeInput:g},function(){e.focusInput(g),e.handleOtpChange(b)})}}),h(d(e),"handleOnChange",function(n){var i=n.target.value;e.isInputValueValid(i)&&e.changeCodeAtFocus(i)}),h(d(e),"handleOnKeyDown",function(n){n.keyCode===ue||n.key==="Backspace"?(n.preventDefault(),e.changeCodeAtFocus(""),e.focusInput(e.state.activeInput-1)):n.keyCode===pe||n.key==="Delete"?(n.preventDefault(),e.changeCodeAtFocus("")):n.keyCode===le||n.key==="ArrowLeft"?(n.preventDefault(),e.focusPrevInput()):n.keyCode===ce||n.key==="ArrowRight"?(n.preventDefault(),e.focusNextInput()):n.keyCode===fe||n.key===" "||n.key==="Spacebar"||n.key==="Space"?n.preventDefault():(n.keyCode===de||n.key==="Enter")&&e.props.onSubmit()}),h(d(e),"handleOnInput",function(n){var i=n.target.value;if(n.target.value){if(n.target.value&&n.target.value.length>1){n.preventDefault();for(var p=e.props.numInputs,x=e.state.activeInput,I=e.getOtpValue(),b=n.target.value.slice(0,p-x).split(""),g=0;g<p;++g)g>=x&&b.length>0&&(I[g]=b.shift());e.handleOtpChange(I),e.focusInput(e.props.numInputs)}else if(i&&i.trim().length>1)n.clipboardData={getData:function(){return i.trim()}},e.handleOnPaste(n);else if(e.isInputValueValid(n.target.value))e.focusNextInput();else if(!e.props.isInputNum){var S=n.nativeEvent;S.data===null&&S.inputType==="deleteContentBackward"&&(n.preventDefault(),e.changeCodeAtFocus(""),e.focusPrevInput())}}}),h(d(e),"renderInputs",function(){for(var n=e.state.activeInput,i=e.props,p=i.id,x=i.autoComplete,I=i.numInputs,b=i.inputStyle,g=i.focusStyle,S=i.separator,D=i.separateAfter,P=D===void 0?1:D,C=i.isDisabled,z=i.disabledStyle,U=i.hasErrored,$=i.errorStyle,q=i.isSuccessed,G=i.successStyle,ye=i.shouldAutoFocus,ge=i.isInputNum,me=i.isInputSecure,xe=i.className,L=i.inputProps,be=i.onSubmit,X=[],Y=e.getOtpValue(),Z=e.getPlaceholderValue(),ee=e.props["data-cy"],te=e.props["data-testid"],ne=e.props["custom-test-attr"],re=e.props["custom-test-id"],Se=function(m){var H=void 0;(m+1)%parseInt(P)===0?H=!0:H=!1;var ae={};ne&&(ae[ne]=re&&"".concat(re,"-").concat(m));var J={};L&&(Array.isArray(L)?L[m]&&(J=L[m]):J=L),X.push(u.default.createElement(he,v({id:p&&"".concat(p,"-").concat(m),autoComplete:x??"off",placeholder:Z&&Z[m],key:m,index:m,focus:n===m,value:Y&&Y[m],onChange:e.handleOnChange,onKeyDown:e.handleOnKeyDown,onInput:e.handleOnInput,onPaste:e.handleOnPaste,onFocus:function(Oe){e.setState({activeInput:m}),Oe.target.select()},onBlur:function(){return e.setState({activeInput:-1})},separator:S,inputStyle:b,focusStyle:g,isLastChild:m===I-1,isDisabled:C,disabledStyle:z,hasErrored:U,errorStyle:$,isSuccessed:q,successStyle:G,shouldAutoFocus:ye,isInputNum:ge,isInputSecure:me,className:xe,"data-cy":ee&&"".concat(ee,"-").concat(m),"data-testid":te&&"".concat(te,"-").concat(m),shouldRender:H,onSubmit:be},J,ae)))},K=0;K<I;K++)Se(K);return X}),e}return M(o,[{key:"componentDidUpdate",value:function(){var r=this.props.value,s=this.state.activeInput;r==""&&s>0&&this.setState({activeInput:0})}},{key:"render",value:function(){var r=this.props.containerStyle;return u.default.createElement("div",{style:Object.assign({display:"flex"},j(r)&&r),className:j(r)?"":r},this.renderInputs())}}]),o}(u.Component);h(Q,"defaultProps",{numInputs:4,onChange:function(a){return console.log(a)},isDisabled:!1,shouldAutoFocus:!1,value:"",isInputSecure:!1,onSubmit:function(a){return console.log(a)}});var ve=Q;O.default=ve})(ie);const Ee=Ce(ie),Ae=O=>{const{initialMinute:u=0,initialSeconds:F=0}=O,[f,N]=_.useState(u),[v,E]=_.useState(F);return _.useEffect(()=>{let A=setInterval(()=>{v>0&&E(v-1),v===0&&(f===0?(clearInterval(A),O==null||O.setShowTimer(!1)):(N(f-1),E(59)))},1e3);return()=>{clearInterval(A)}}),l.jsx("div",{children:f===0&&v===0?null:l.jsxs("label",{style:{color:"#1877F2"},children:[" ",f,":",v<10?`0${v}`:v]})})},w={background:{width:"100%",height:"100vh",position:"relative",display:"flex",background:"transparent",backgroundRepeat:"no-repeat",backgroundColor:"transparent",backgroundSize:"cover",backgroundPosition:"center center"},rootDiv:{display:"flex",flexDirection:"column",width:"70%",margin:"10px auto auto auto"},buttonStyle:{background:"#2A3C50",fontSize:"16px",fontWeight:600,width:"100%",height:"52px",color:"white",border:"1px solid black",paddingTop:"5px",textDecoration:"none",borderRadius:"4px",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},logIn:{fontSize:"24px",color:"#172739",fontWeight:800,margin:"10px 0px 5px 0px"},normalText:{fontSize:"14px",color:"#828282",margin:"5px 0px 20px 0px"},sendAgain:{fontSize:"16px",fontWeight:400,color:"#828282",margin:"5px 0px 20px 0px"},margin:{margin:"10px 0px 40px 0px"},inputBox:{background:"#FFFFFF",border:"1px solid rgba(130, 141, 153, 0.5)",borderRadius:"2px",display:"flex",width:"45px",height:"45px",marginRight:"15px"},inputBoxActive:{background:"#FFFFFF",border:"2px solid #2F80ED",boxShadow:"0px 8px 20px rgba(47, 128, 237, 0.20)",borderRadius:"2px",display:"flex",width:"45px",height:"45px"},inputHolder:{width:"100%",justifyContent:"space-between"},setIcon:{height:"23vh",width:"100%",display:"flex",justifyContent:"center"}},Te=O=>{const{state:u}=De(),F=je(),[f,N]=_.useState(""),[v,E]=_.useState(!0),[A,V]=_.useState(""),B=y=>{N(y)},M=()=>{u!=null&&u.email&&we(u==null?void 0:u.email).then(y=>{}).catch(y=>{console.log(y)})},k=()=>{(f==null?void 0:f.length)===4&&(u!=null&&u.email)&&_e(f,u==null?void 0:u.email).then(y=>{y[0]?(localStorage.setItem("userInfo",JSON.stringify(u==null?void 0:u.email)),O.setUserPrivilege("user"),F("/register/1",{state:{email:u==null?void 0:u.email}})):V(y[1]?y[1]:"An Unexpected Error Occurred.")})};return _.useEffect(()=>{let y=R=>{R.keyCode===13&&(k(),R.preventDefault())};return document.addEventListener("keypress",y),()=>{document.removeEventListener("keypress",y)}}),l.jsx(l.Fragment,{children:l.jsxs("div",{className:"mx-[2%] sm:mx-[10%] mt-[13vh] mb-6 border-2 border-[#e5e7eb] p-5 rounded shadow-[0px_0px_9px_0px]",children:[l.jsx("img",{src:Pe,alt:"edge_heading",className:"w-full"}),l.jsx("div",{style:{fontSize:"20px",fontWeight:"600"},children:"Enhancing Digital Government & Economy (EDGE) Project"}),l.jsx("div",{style:{fontSize:"14px"},children:"Digital Skills Training initiative for students, a premier learning opportunity presented by the EDGE Project of the Bangladesh Computer Council, ICT Division "}),l.jsxs("div",{style:w.rootDiv,children:[l.jsx("div",{style:w.logIn,children:"Enter Verification Code"}),l.jsxs("div",{style:w.normalText,children:["Enter the 4 digit verification code sent to your email at ",u==null?void 0:u.email,".  ",l.jsx("span",{style:{textDecoration:"none",color:"#1877F2",cursor:"pointer"},onClick:()=>F("/login"),children:"Change email"})]}),l.jsx("div",{style:{marginBottom:"15px"},children:l.jsx("div",{style:{...w.inputHolder,visibility:v===!1?"hidden":"",display:"flex"},children:l.jsx(Ee,{value:f,onChange:B,numInputs:4,inputStyle:w.inputBox,focusStyle:w.inputBoxActive,containerStyle:{width:"100%",display:"flex",justifyContent:"center"},isInputNum:!0,shouldAutoFocus:!0})})}),A&&l.jsx("span",{style:{color:"red"},children:A}),l.jsxs("div",{style:w.sendAgain,children:[v===!0&&l.jsxs("div",{children:[l.jsx("div",{style:{marginBottom:"15px"},children:l.jsx("label",{style:{color:"black"},children:"Code not received?"})}),l.jsxs("div",{style:{display:"flex",justifyContent:"center"},children:[l.jsx("label",{children:"Resend again after"}),"  ",l.jsx(Ae,{initialMinute:2,initialSeconds:0,setShowTimer:E})]})]}),v===!1&&(f==null?void 0:f.length)!==4&&l.jsxs("div",{children:[l.jsx("label",{children:"Code not received?"}),"  ",l.jsx("span",{style:{textDecoration:"none",color:"#1877F2",cursor:"pointer"},onClick:()=>{M(),E(!0)},children:"Send Again"})]})]}),(f==null?void 0:f.length)===4&&l.jsx("button",{style:w.buttonStyle,onClick:()=>k(),children:"Login"})]})]})})};export{Te as default};
